<div class="row" *ngIf="movie && !showSpinner">
  <div class="col-lg-4">
    <h1>{{movie.title}}</h1>
    <p><strong>{{movie.category | uppercase}}</strong></p>
    <p>{{movie.year}}</p>
    <img class="loaded-movie" src="{{movie.poster}}" alt="{{movie.title}}">
  </div>
  <div class="col-lg-8">
    <div class="form-group">
      <input
        type="text"
        class="form-control"
        [(ngModel)]="newRule.rule">
    </div>
    <div class="form-group">
      <button
        class="btn btn-outline-success"
        (click)="onAddRule()"
        [disabled]="!newRule"
        type="button">Add Rule</button>
    </div>
    <ul class="list-group">
      <li
        class="list-group-item rule"
        [ngClass]="{'list-group-item-dark': i%2 === 0}"
        *ngFor="let rule of rulesArray;
        let i=index">{{rule.rule}}
        <div style="display: flex;align-items: center;">
        <fa-icon
          (click)="onVote(1, rule, i)"
          [ngStyle]="{'color': userInfo && userInfo[i].vote === 1 ? 'green' : 'inherit'}"
          [icon]="faThumbsUp"></fa-icon>
        <fa-icon
          (click)="onVote(-1, rule, i)"
          [ngStyle]="{'color': userInfo && userInfo[i].vote === -1 ? 'red' : 'inherit'}"
          [icon]="faThumbsDown"></fa-icon>
        <fa-icon
          class="flag"
          (click)="onFlagRule(movie.title, rule.rule, i)"
          [ngStyle]="{'color': userInfo && userInfo[i].hasFlagged ? 'yellow' : 'inherit'}"
          [icon]="faFlag"></fa-icon>
        <button
          type="button"
          class="close"
          aria-label="Close"
          (click)="onRemoveRule(i)">
          <span aria-hidden="true">&times;</span>
        </button>
        </div>
      </li>
    </ul>
  </div>
</div>

<div *ngIf="showModal">
  <app-modal
    [newMovie]="movie"
    (sendKey)="onNewMovie($event)"></app-modal>
</div>

<div *ngIf="showSpinner">
 <app-spinner></app-spinner>
</div>
